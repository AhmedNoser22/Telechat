<div class="flex h-full gap-4 p-2 bg-[#fdf2f2]">
  @if(showLeft) {
  <div class="w-80 h-full flex-shrink-0 animate-in slide-in-from-left duration-300">
    <app-chat-sidebar />
  </div>
  }

  <div class="flex-1 h-full relative">
    <button (click)="showLeft = !showLeft" 
            class="absolute -left-2 top-24 z-50 bg-white text-rose-500 p-1.5 rounded-r-xl shadow-md border border-rose-100 hover:bg-rose-50 transition-all">
      <mat-icon class="!text-sm">{{ showLeft ? 'chevron_left' : 'chevron_right' }}</mat-icon>
    </button>

    <app-chat-window />

    @if(chatService.currentOpenedChat()){
    <button (click)="showRight = !showRight" 
            class="absolute -right-2 top-24 z-50 bg-white text-rose-500 p-1.5 rounded-l-xl shadow-md border border-rose-100 hover:bg-rose-50 transition-all">
      <mat-icon class="!text-sm">{{ showRight ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
    }
  </div>

  @if(chatService.currentOpenedChat() && showRight){
  <div class="w-80 h-full flex-shrink-0 animate-in slide-in-from-right duration-300">
    <app-chat-right-sidebar/>
  </div>
  }
</div>